<?xml version="1.0" encoding="UTF-8" ?>
<contentFolder xmlns="descatter/2013/content_schema">
	<info>
		<title>Content Type</title>
		<author>
			<name>Christopher R. Field</name>
			<email>cfield2 at gmail dot com</email>
		</author>
		<description>
			Files are placed in sub-folders based on their file extension. The structure follows the content type, or Internet Media Type for files.
		</description>
	</info>
	<macros>
	    <macro name="application-folder">
	        <text value="application"/>
	    </macro>
	    <macro name="msword-folder">
	        <text value="msword"/>
	    </macro>
	    <macro name="excel-folder">
	        <text value="vnd.ms-excel"/>
	    </macro>
	    <macro name="powerpoint-folder">
	        <text value="vnd.ms-powerpoint"/>
	    </macro>
	    <macro name="audio-folder">
	        <text value="audio"/>
	    </macro>
	    <macro name="image-folder">
	        <text value="image"/>
	    </macro>
	  	<macro name="jpeg-folder">
	  	    <text value="jpeg"/>
	  	</macro>
	  	<macro name="tiff-folder">
	  	    <text value="tiff"/>
	  	</macro>
	    <macro name="text-folder">
	        <text value="text"/>
	    </macro>
	    <macro name="html-folder">
	        <text value="html"/>
	    </macro>
	    <macro name="video-folder">
	        <text value="video"/>
	    </macro>
	    <macro name="unique-random-folder">
	        <text variable="temp-folder"/>
	    </macro>
	    <macro name="original-name">
	        <group>
	        	<text variable="file-name" suffix="."/>
	       		<text variable="file-extension"/>    
	        </group>
	    </macro>
	    <macro name="metadata-name">
	        <group>
	        	<text variable="file-name" suffix="."/>
	        	<text variable="metadata-extension"/>    
	        </group>
	    </macro>
	</macros>
	<destinations use="file-extension" case-sensitive="false">
		<destination match="doc" condition="equals">
			<folder macro="application-folder">
				<folder macro="msword-folder">
				    <folder macro="unique-random-folder">
					    <file macro="original-name">
					    <metadata macro="metadata-name" template="word.tpl">
				    </folder>
				</folder>
			</folder>	
		</destination>
		<destination match="docx" condition="equals">
			<folder macro="application-folder">
				<folder macro="msword-folder">
				    <folder macro="unique-random-folder">
					    <file macro="original-name">
					    <metadata macro="metadata-name" template="word.tpl">
				    </folder>
				</folder>
			</folder>
		</destination>
		<destination match="xls" condition="equals">
		    <folder macro="application-folder">
				<folder macro="excel-folder">
				    <folder macro="unique-random-folder">
					    <file macro="original-name">
					    <metadata macro="metadata-name" template="excel.tpl">
				    </folder>
				</folder>
			</folder>
		</destination>
		<destination match="xlsx" condition="equals">
			<folder macro="application-folder">
				<folder macro="excel-folder">
					<folder macro="unique-random-folder">
					    <file macro="original-name">
					    <metadata macro="metadata-name" template="word.tpl">
				    </folder>
				</folder>
			</folder>	
		</destination>
		<destination match="ppt" condition="equals">
			<folder macro="application-folder">
				<folder name="powerpoint-folder">
					<folder macro="unique-random-folder">
					    <file macro="original-name">
					    <metadata macro="metadata-name" template="powerpoint.tpl">
				    </folder>
				</folder>
			</folder>	
		</destination>
		<destination match="pptx" condition="equals">
			<folder name="application">
				<folder name="powerpoint-folder">
					<folder macro="unique-random-folder">
					    <file macro="original-name">
					    <metadata macro="metadata-name" template="word.tpl">
				    </folder>
				</folder>
			</folder>	
		</destination>
		<destination match="mp3" condition="equals">
			<folder macro="audio-folder">
				<folder name="mp3">
					<folder macro="unique-random-folder">
					    <file macro="original-name">
					    <metadata macro="metadata-name" template="audio.tpl">
				    </folder>
				</folder>
			</folder>
		</destination>
		<destination match="jpeg" condition="equals">
			<folder macro="image-folder">
				<folder macro="jpeg-folder">
					<folder macro="unique-random-folder">
					    <file macro="original-name">
					    <metadata macro="metadata-name" template="image.tpl">
				    </folder>
				</folder>
			</folder>	
		</destination>
		<destination match="jpg" condition="equals">
			<folder macro="image-folder">
				<folder macro="jpeg-folder">
					<folder macro="unique-random-folder">
					    <file macro="original-name">
					    <metadata macro="metadata-name" template="image.tpl">
				    </folder>
				</folder>
			</folder>	
		</destination>
		<destination match="png" condition="equals">
			<folder macro="image-folder">
				<folder name="png">
					<folder macro="unique-random-folder">
					    <file macro="original-name">
					    <metadata macro="metadata-name" template="image.tpl">
				    </folder>
				</folder>
			</folder>	
		</destination>
		<destination match="tiff" condition="equals">
			<folder macro="image-folder">
				<folder macro="tiff-folder">
					<folder macro="unique-random-folder">
					    <file macro="original-name">
					    <metadata macro="metadata-name" template="image.tpl">
				    </folder>
				</folder>
			</folder>	
		</destination>
		<destination match="tif" condition="equals">
			<folder macro="image-folder">
				<folder macro="tiff-folder">
					<folder macro="unique-random-folder">
					    <file macro="original-name">
					    <metadata macro="metadata-name" template="image.tpl">
				    </folder>
				</folder>
			</folder>	
		</destination>
		<destination match="txt" condition="equals">
			<folder macro="text-folder">
				<folder name="plain">
					<folder macro="unique-random-folder">
					    <file macro="original-name">
					    <metadata macro="metadata-name" template="text.tpl">
				    </folder>
				</folder>
			</folder>	
		</destination>
		<destination match="md" condition="equals">
			<folder macro="text-folder">
				<folder name="x-markdown">
					<folder macro="unique-random-folder">
					    <file macro="original-name">
					    <metadata macro="metadata-name" template="text.tpl">
				    </folder>
				</folder>
			</folder>	
		</destination>
		<destination match="css" condition="equals">
			<folder macro="text-folder">
				<folder name="css">
					<folder macro="unique-random-folder">
					    <file macro="original-name">
					    <metadata macro="metadata-name" template="website.tpl">
				    </folder>
				</folder>
			</folder>	
		</destination>
		<destination match="csv" condition="equals">
			<folder macro="text-folder">
				<folder name="csv">
					<folder macro="unique-random-folder">
					    <file macro="original-name">
					    <metadata macro="metadata-name" template="data.tpl">
				    </folder>
				</folder>
			</folder>
		</destination>
		<destination match="html" condition="equals">
			<folder macro="text-folder">
				<folder macro="html-folder">
					<folder macro="unique-random-folder">
					    <file macro="original-name">
					    <metadata macro="metadata-name" template="website.tpl">
				    </folder>
				</folder>
			</folder>	
		</destination>
		<destination match="htm" condition="equals">
			<folder macro="text-folder">
				<folder macro="html-folder">
					<folder macro="unique-random-folder">
					    <file macro="original-name">
					    <metadata macro="metadata-name" template="website.tpl">
				    </folder>
				</folder>
			</folder>	
		</destination>
		<destination match="xml" condition="equals">
			<folder macro="text-folder">
				<folder name="xml">
					<folder macro="unique-random-folder">
					    <file macro="original-name">
					    <metadata macro="metadata-name">
				    </folder>
				</folder>
			</folder>	
		</destination>
		<destination match="avi" condition="equals">
			<folder macro="video-folder">
				<folder name="avi">
					<folder macro="unique-random-folder">
					    <file macro="original-name">
					    <metadata macro="metadata-name" template="video.tpl">
				    </folder>
				</folder>
			</folder>	
		</destination>
	</destinations>
</contentFolder>